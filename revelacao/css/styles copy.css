/* =========================================
    1. ESTILOS GERAIS E ESTRUTURAIS
    ========================================= */
body { 
    margin: 0; padding: 0; overflow: hidden; 
    background: #000; 
    font-family: 'Courier New', Courier, monospace; 
    height: 100vh; width: 100vw; 
    display: flex; flex-direction: column; 
}

/* Input Proxy (Invisível para Mobile) */
#mobile-proxy { position: absolute; opacity: 0; top: -1000px; }

/* Tela de Start (Click to Play) */
#start-overlay { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    background: #000; z-index: 3000; 
    display: flex; justify-content: center; align-items: center; 
}
.start-btn { 
    border: 2px solid #0f0; color: #0f0; padding: 20px 40px; 
    font-size: 2rem; font-weight: bold; background: transparent; 
    cursor: pointer; transition: 0.3s; 
}
.start-btn:hover { background: #0f0; color: #000; }

/* =========================================
    2. CENA 1: INTRODUÇÃO (ANIMAÇÃO 2D)
    ========================================= */
#intro-stage {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #000015; /* Começa no Espaço */
    z-index: 2000; overflow: hidden; display: none;
    transition: background 4s ease;
}
.ground { 
    position: absolute; bottom: 0; width: 100%; height: 15vh; 
    background: #555; /* Lua */
    transition: background 3s, bottom 1s; z-index: 10; 
}
.star { 
    position: absolute; background: white; border-radius: 50%; 
    opacity: 1; transition: opacity 3s; 
}
#sky-object { 
    position: absolute; top: 10%; right: 10%; font-size: 12vw; 
    transition: all 4s ease; z-index: 5; 
    filter: drop-shadow(0 0 20px rgba(255,255,255,0.2)); 
}
#rocket-container { 
    position: absolute; 
    bottom: 13vh; 
    left: 50%; 
    transform: translateX(-50%); 
    font-size: 15vh; 
    z-index: 20; 
    /* Adicionado transform na transição para animar o tamanho (scale) */
    transition: bottom 5s ease-in-out, left 5s ease-in-out, transform 5s ease-in-out; 
}
.rocket-shake { animation: shake 0.2s infinite; }

#couple-container {
    position: absolute; bottom: 14vh; left: -20%; 
    font-size: 9vh; z-index: 30; display: flex; gap: 5px;
    transition: left 6s linear, opacity 1s; 
}

#laptop-ui {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 300px; height: 200px; background: #f0f0f0; 
    border: 2px solid #333; border-radius: 8px;
    display: none; flex-direction: column; align-items: center; justify-content: center;
    box-shadow: 0 0 30px rgba(255,255,255,0.8); z-index: 100; font-family: Arial, sans-serif;
    animation: popIn 0.5s;
}
.folder-icon { font-size: 5rem; cursor: pointer; transition: transform 0.2s; }
.folder-icon:hover { transform: scale(1.1); }
.file-icon { font-size: 4rem; cursor: pointer; display: none; margin-top: 10px; }
.ui-text { font-size: 1rem; margin-top: 5px; color: #333; font-weight: bold;}

/* =========================================
    3. CENA 2: TERMINAL HACKER
    ========================================= */
#terminal-app { display: none; width: 100%; height: 100%; }

#terminal { 
    width: 100%; height: 100%; padding: 40px; box-sizing: border-box; 
    font-size: 1.6rem; line-height: 1.5; color: #0f0; 
    text-shadow: 0 0 5px #0f0; overflow-y: auto; white-space: pre-wrap; 
}
#terminal::-webkit-scrollbar { width: 0px; } 

#timer-screen { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    display: flex; flex-direction: column; justify-content: center; align-items: center; 
    background-color: #000; z-index: 100; 
}
#timer-display { font-size: 15vw; color: #0f0; font-weight: bold; }
.timer-label { font-size: 2rem; color: #fff; margin-bottom: 20px; letter-spacing: 5px;}

/* Input Styling */
.input-line { display: flex; align-items: center; width: 100%; margin: 10px 0; flex-wrap: nowrap; }
.prompt-text { color: #fff; margin-right: 15px; white-space: nowrap; flex-shrink: 0; }
.input-wrapper { display: flex; align-items: center; flex-grow: 1; }
.user-input { color: #ff0; font-weight: bold; }
.cursor { 
    display: inline-block; width: 12px; height: 24px; 
    background-color: #0f0; margin-left: 5px; animation: blink 1s infinite; 
}

/* Texto Efeitos */
.highlight { 
    color: #fff; font-weight: bold; font-size: 1.8rem; 
    margin-top: 20px; margin-bottom: 10px; display: block; 
    background: rgba(0, 50, 0, 0.3); padding: 5px; 
}
.warning { color: #ff0; } .error { color: #f00; font-weight: bold; }
.matrix-text { 
    color: #00ff00; font-family: 'Courier New', Courier, monospace; 
    font-size: 1.3rem; opacity: 1; text-shadow: 0 0 2px #00ff00; 
}

/* =========================================
    4. CENAS FINAIS (TRANSITION, CRASH, STARWARS, REVEAL)
    ========================================= */
#launch-overlay, #crash-screen, #prank-screen, #starwars-screen, #reveal-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: #000; display: none; z-index: 500;
}

/* Launch */
#launch-overlay { flex-direction: column; justify-content: center; align-items: center; }
.launch-status { font-size: 3rem; color: #0f0; margin-bottom: 30px; text-align: center;}
.launch-count { font-size: 20vw; color: #fff; font-weight: bold; }

/* Crash */
#crash-screen { flex-direction: column; justify-content: center; align-items: center; animation: glitch 0.2s infinite; }
.crash-title { font-size: 8rem; color: #f00; font-weight: bold; background: #000; padding: 20px; border: 5px solid #f00;}
.crash-msg { font-size: 2rem; color: #fff; margin-top: 20px; }
.crash-timer { font-size: 5rem; color: #f00; margin-top: 20px; }

/* Prank */
#prank-screen { justify-content: center; align-items: center; z-index: 600; }
.prank-text { font-size: 2.5rem; color: #fff; font-style: italic; opacity: 0; animation: fadeInOut 4s forwards; }

/* Star Wars */
#starwars-screen { perspective: 300px; overflow: hidden; z-index: 700; }
.crawl-container {
    position: relative; top: 90%; left: 10%; width: 80%; height: 200%;
    animation: crawl 25s linear forwards;
    transform-origin: 50% 100%; transform: rotateX(25deg);
    text-align: center; color: #ff6; font-weight: bold; font-family: 'Arial', sans-serif;
}
.crawl-title { font-size: 4rem; margin-bottom: 50px; text-transform: uppercase; letter-spacing: 5px; }
.crawl-text { font-size: 3rem; line-height: 1.5; margin-bottom: 50px; }
.crawl-final { font-size: 4rem; margin-top: 100px; color: #fff; }

/* Reveal */
#reveal-screen { flex-direction: column; justify-content: center; align-items: center; text-align: center; z-index: 999; }
.moon-icon { font-size: 15vh; margin-bottom: 20px; opacity: 0; transition: opacity 1s; }
.big-name { font-size: 12vw; font-weight: bold; margin: 0; font-family: Arial, sans-serif; letter-spacing: 5px; opacity: 1; }
.subtitle { font-size: 3rem; color: #fff; margin-top: 20px; opacity: 0; transition: opacity 3s ease-in-out; }

.boy-text { color: #00ffff !important; text-shadow: 0 0 40px #00ffff !important; }
.girl-text { color: #ff00ff !important; text-shadow: 0 0 40px #ff00ff !important; }
#confetti-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000; }

/* Animations */
@keyframes shake { 0% { transform: translateX(-51%); } 50% { transform: translateX(-49%); } 100% { transform: translateX(-50%); } }
@keyframes popIn { from { transform: translate(-50%, -50%) scale(0); } to { transform: translate(-50%, -50%) scale(1); } }
@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
@keyframes glitch { 0% { transform: translate(0); } 20% { transform: translate(-3px, 3px); } 40% { transform: translate(-3px, -3px); } 60% { transform: translate(3px, 3px); } 80% { transform: translate(3px, -3px); } 100% { transform: translate(0); } }
@keyframes fadeInOut { 0% { opacity: 0; } 20% { opacity: 1; } 80% { opacity: 1; } 100% { opacity: 0; } }
@keyframes crawl { 0% { top: 100%; transform: rotateX(20deg) translateZ(0); opacity: 1; } 90% { opacity: 1; } 100% { top: -200%; transform: rotateX(25deg) translateZ(-100px); opacity: 0; } }